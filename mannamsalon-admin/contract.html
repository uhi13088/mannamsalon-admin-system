<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ê³„ì•½ì„œ ì‘ì„± - ë§›ë‚¨ì‚´ë¡± ê·¼ë¬´ê´€ë¦¬</title>
  <link rel="stylesheet" href="css/common.css">
  <style>
    body {
      background: var(--bg-light);
    }

    .top-bar {
      background: var(--bg-white);
      padding: var(--spacing-lg);
      box-shadow: var(--shadow-sm);
      border-bottom: 1px solid var(--border-color);
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: var(--spacing-xl);
    }

    /* íƒ­ */
    .tab-buttons {
      display: flex;
      gap: var(--spacing-sm);
      margin-bottom: var(--spacing-lg);
      border-bottom: 2px solid var(--border-color);
    }

    .tab-button {
      padding: var(--spacing-md) var(--spacing-lg);
      background: none;
      border: none;
      border-bottom: 3px solid transparent;
      color: var(--text-secondary);
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .tab-button:hover {
      color: var(--primary-color);
    }

    .tab-button.active {
      color: var(--primary-color);
      border-bottom-color: var(--primary-color);
    }

    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
    }

    /* í¼ ì„¹ì…˜ */
    .form-section {
      background: var(--bg-white);
      border: 1px solid var(--border-color);
      border-radius: var(--border-radius);
      padding: var(--spacing-xl);
      margin-bottom: var(--spacing-lg);
    }

    .form-section h3 {
      font-size: 18px;
      color: var(--text-primary);
      margin-bottom: var(--spacing-lg);
      padding-bottom: var(--spacing-sm);
      border-bottom: 2px solid var(--border-color);
    }

    .form-section h4 {
      font-size: 15px;
      color: var(--primary-color);
      margin: var(--spacing-lg) 0 var(--spacing-md) 0;
    }

    .form-row {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: var(--spacing-md);
      margin-bottom: var(--spacing-md);
    }

    .form-group {
      display: flex;
      flex-direction: column;
    }

    .form-group label {
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: var(--spacing-xs);
      font-size: 14px;
    }

    .form-group input,
    .form-group select,
    .form-group textarea {
      padding: var(--spacing-sm);
      border: 2px solid var(--border-color);
      border-radius: var(--border-radius);
      font-size: 14px;
      transition: border-color 0.2s ease;
    }

    .form-group input:focus,
    .form-group select:focus,
    .form-group textarea:focus {
      outline: none;
      border-color: var(--primary-color);
    }

    .form-group textarea {
      min-height: 150px;
      resize: vertical;
      font-family: inherit;
      line-height: 1.6;
    }

    .help-text {
      font-size: 13px;
      color: var(--text-secondary);
      margin-top: 4px;
    }

    /* ìš”ì¼ ë²„íŠ¼ */
    .day-buttons {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      margin-top: 8px;
    }

    .day-btn {
      padding: 10px 18px;
      border: 2px solid var(--border-color);
      background: var(--bg-white);
      color: var(--text-secondary);
      border-radius: 6px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      font-size: 14px;
      min-width: 50px;
    }

    .day-btn:hover {
      border-color: var(--primary-color);
      color: var(--primary-color);
    }

    .day-btn.active {
      background: var(--primary-color);
      border-color: var(--primary-color);
      color: var(--bg-white);
    }

    /* ìŠ¤ì¼€ì¤„ ì•„ì´í…œ */
    .work-schedule-item {
      background: var(--bg-light);
      border: 1px solid var(--border-color);
      border-radius: var(--border-radius);
      padding: var(--spacing-md);
      margin-bottom: var(--spacing-md);
    }

    /* ì•¡ì…˜ ë²„íŠ¼ */
    .action-buttons {
      display: flex;
      gap: var(--spacing-md);
      justify-content: flex-end;
      margin-top: var(--spacing-xl);
    }

    /* ë¯¸ë¦¬ë³´ê¸° */
    .preview-section {
      background: var(--bg-white);
      border: 1px solid var(--border-color);
      border-radius: var(--border-radius);
      padding: var(--spacing-xl);
    }

    .preview-content {
      max-width: 800px;
      margin: 0 auto;
      padding: 40px;
      background: white;
      box-shadow: var(--shadow-md);
    }

    .preview-title {
      text-align: center;
      font-size: 28px;
      font-weight: 700;
      color: var(--text-primary);
      margin-bottom: var(--spacing-xl);
      letter-spacing: 8px;
    }

    .preview-table {
      width: 100%;
      border-collapse: collapse;
      margin: var(--spacing-lg) 0;
    }

    .preview-table th,
    .preview-table td {
      border: 1px solid var(--border-color);
      padding: var(--spacing-md);
      text-align: left;
    }

    .preview-table th {
      background: var(--bg-light);
      font-weight: 600;
      width: 30%;
    }

    /* ëª¨ë‹¬ */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }

    .modal-content {
      background: var(--bg-white);
      border-radius: var(--border-radius);
      max-width: 600px;
      width: 90%;
      max-height: 80vh;
      overflow-y: auto;
    }

    .modal-header {
      padding: var(--spacing-lg);
      border-bottom: 1px solid var(--border-color);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .modal-header h3 {
      margin: 0;
      font-size: 18px;
    }

    .modal-close {
      background: none;
      border: none;
      font-size: 24px;
      cursor: pointer;
      color: var(--text-secondary);
    }

    .modal-body {
      padding: var(--spacing-lg);
    }

    .modal-footer {
      padding: var(--spacing-lg);
      border-top: 1px solid var(--border-color);
      display: flex;
      gap: var(--spacing-md);
      justify-content: flex-end;
    }
  </style>
</head>
<body>
  <!-- ìƒë‹¨ ë°” -->
  <div class="top-bar">
    <div style="display: flex; align-items: center; gap: var(--spacing-md);">
      <h1 style="font-size: 20px; font-weight: 700; color: var(--text-primary); margin: 0;">ğŸ“ ê·¼ë¡œê³„ì•½ì„œ ì‘ì„±</h1>
      <span style="color: var(--text-secondary); font-size: 14px;">| ë§›ë‚¨ì‚´ë¡± ê·¼ë¬´ê´€ë¦¬ ì‹œìŠ¤í…œ</span>
    </div>
    <div style="display: flex; gap: var(--spacing-sm);">
      <button class="btn btn-secondary" onclick="window.location.href='admin.html'">ğŸ  ê´€ë¦¬ì í™ˆ</button>
      <button class="btn btn-secondary" onclick="confirmGoBack()">âœ• ë‹«ê¸°</button>
    </div>
  </div>

  <div class="container">
    <!-- íƒ­ ë° ì €ì¥ëœ ê³„ì•½ì„œ ë¶ˆëŸ¬ì˜¤ê¸° -->
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--spacing-lg);">
      <div class="tab-buttons" style="margin-bottom: 0;">
        <button id="formTabBtn" class="tab-button active" onclick="switchTab('form')">âœï¸ ì‘ì„±í•˜ê¸°</button>
        <button id="previewTabBtn" class="tab-button" onclick="switchTab('preview')">ğŸ‘ï¸ ë¯¸ë¦¬ë³´ê¸°</button>
      </div>
      <button class="btn btn-secondary" onclick="showLoadContractModal()">ğŸ“‚ ì €ì¥ëœ ê³„ì•½ì„œ ë¶ˆëŸ¬ì˜¤ê¸°</button>
    </div>

    <!-- ì‘ì„± í¼ íƒ­ -->
    <div id="formTab" class="tab-content active">
      <!-- 1. ì§ì› ë° ì‚¬ìš©ì ì •ë³´ -->
      <div class="form-section">
        <h3>1. ê¸°ë³¸ ì •ë³´</h3>
        
        <h4>ğŸ‘¤ ê·¼ë¡œì (ì§ì›) ì •ë³´</h4>
        <div class="form-row">
          <div class="form-group">
            <label for="employeeSelect">ì§ì› ì„ íƒ *</label>
            <select id="employeeSelect" required onchange="loadEmployeeInfo()">
              <option value="">ì„ íƒí•˜ì„¸ìš”</option>
            </select>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label for="employeeName">ì´ë¦„ *</label>
            <input type="text" id="employeeName" placeholder="ìë™ ì…ë ¥" readonly required>
          </div>
          <div class="form-group">
            <label for="employeeBirth">ìƒë…„ì›”ì¼ *</label>
            <input type="date" id="employeeBirth" required>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label for="employeeAddress">ì£¼ì†Œ *</label>
            <input type="text" id="employeeAddress" required>
          </div>
          <div class="form-group">
            <label for="employeePhone">ì—°ë½ì²˜ *</label>
            <input type="tel" id="employeePhone" required>
          </div>
        </div>

        <h4>ğŸ¢ ì‚¬ìš©ì (íšŒì‚¬) ì •ë³´</h4>
        <div class="form-row">
          <div class="form-group">
            <label for="companySelect">íšŒì‚¬ ì„ íƒ *</label>
            <select id="companySelect" required onchange="loadCompanyInfo()">
              <option value="">ì„ íƒí•˜ì„¸ìš”</option>
            </select>
          </div>
          <div style="align-self: flex-end; display: flex; gap: 8px;">
            <button type="button" class="btn btn-secondary btn-sm" onclick="showEditCompanyModal()" style="height: 42px;">âœï¸ ìˆ˜ì •</button>
            <button type="button" class="btn btn-secondary btn-sm" onclick="showAddCompanyModal()" style="height: 42px;">â• ì¶”ê°€</button>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label for="companyCEO">ëŒ€í‘œìëª… *</label>
            <input type="text" id="companyCEO" placeholder="ìë™ ì…ë ¥" readonly required>
          </div>
          <div class="form-group">
            <label for="companyBusinessNumber">ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸ *</label>
            <input type="text" id="companyBusinessNumber" placeholder="ìë™ ì…ë ¥" readonly required>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label for="companyPhone">íšŒì‚¬ ì—°ë½ì²˜ *</label>
            <input type="tel" id="companyPhone" placeholder="ìë™ ì…ë ¥" readonly required>
          </div>
          <div class="form-group">
            <label for="companyAddress">ì‚¬ì—…ì¥ ì£¼ì†Œ *</label>
            <input type="text" id="companyAddress" placeholder="ìë™ ì…ë ¥" readonly required>
          </div>
        </div>
      </div>

      <!-- 2. ê³„ì•½ ì •ë³´ -->
      <div class="form-section">
        <h3>2. ê³„ì•½ ì •ë³´</h3>
        <div class="form-row">
          <div class="form-group">
            <label for="contractType">ê³„ì•½ ìœ í˜• *</label>
            <select id="contractType" required>
              <option value="">ì„ íƒí•˜ì„¸ìš”</option>
              <option value="ì •ê·œì§">ì •ê·œì§</option>
              <option value="ê³„ì•½ì§">ê³„ì•½ì§</option>
              <option value="ì‹œê°„ì œ">ì‹œê°„ì œ</option>
            </select>
          </div>
          <div class="form-group">
            <label for="workStore">ê·¼ë¬´ ë§¤ì¥ *</label>
            <select id="workStore" required>
              <option value="">ì„ íƒí•˜ì„¸ìš”</option>
              <option value="ë¶€ì²œì‹œì²­ì ">ë¶€ì²œì‹œì²­ì </option>
              <option value="ìƒë™ì ">ìƒë™ì </option>
              <option value="ë¶€ì²œì—­ì‚¬ì ">ë¶€ì²œì—­ì‚¬ì </option>
            </select>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label for="startDate">ê³„ì•½ ì‹œì‘ì¼ *</label>
            <input type="date" id="startDate" required>
          </div>
          <div class="form-group">
            <label for="endDate">ê³„ì•½ ì¢…ë£Œì¼</label>
            <input type="date" id="endDate">
            <p class="help-text">ê¸°ê°„ì˜ ì •í•¨ì´ ì—†ëŠ” ê²½ìš° ë¹„ì›Œë‘ì„¸ìš”</p>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label for="position">ì§ì±…/ì§ë¬´ *</label>
            <input type="text" id="position" placeholder="ë°”ë¦¬ìŠ¤íƒ€, ë§¤ë‹ˆì € ë“±" required>
          </div>
        </div>
      </div>

      <!-- 3. ê·¼ë¬´ ì¡°ê±´ -->
      <div class="form-section">
        <h3>3. ê·¼ë¬´ ì¡°ê±´</h3>
        
        <!-- ê·¼ë¬´ ì‹œê°„ëŒ€ (ë‹¤ì¤‘ ìŠ¤ì¼€ì¤„) -->
        <div id="workScheduleContainer">
          <div class="work-schedule-item" data-index="0">
            <div class="form-group">
              <label>ê·¼ë¬´ì¼ *</label>
              <div class="day-buttons">
                <button type="button" class="day-btn" data-day="ì›”" onclick="toggleDayForSchedule(this, 0)">ì›”</button>
                <button type="button" class="day-btn" data-day="í™”" onclick="toggleDayForSchedule(this, 0)">í™”</button>
                <button type="button" class="day-btn" data-day="ìˆ˜" onclick="toggleDayForSchedule(this, 0)">ìˆ˜</button>
                <button type="button" class="day-btn" data-day="ëª©" onclick="toggleDayForSchedule(this, 0)">ëª©</button>
                <button type="button" class="day-btn" data-day="ê¸ˆ" onclick="toggleDayForSchedule(this, 0)">ê¸ˆ</button>
                <button type="button" class="day-btn" data-day="í† " onclick="toggleDayForSchedule(this, 0)">í† </button>
                <button type="button" class="day-btn" data-day="ì¼" onclick="toggleDayForSchedule(this, 0)">ì¼</button>
              </div>
            </div>
            <div class="form-row" style="align-items: flex-end;">
              <div class="form-group">
                <label>ì‹œì‘ ì‹œê°„ *</label>
                <div style="display: flex; gap: 8px;">
                  <select class="schedule-start-hour" required onchange="updateWorkTimeDisplay()">
                    <option value="">ì‹œ</option>
                  </select>
                  <select class="schedule-start-minute" required onchange="updateWorkTimeDisplay()">
                    <option value="">ë¶„</option>
                  </select>
                </div>
              </div>
              <div class="form-group">
                <label>ì¢…ë£Œ ì‹œê°„ *</label>
                <div style="display: flex; gap: 8px;">
                  <select class="schedule-end-hour" required onchange="updateWorkTimeDisplay()">
                    <option value="">ì‹œ</option>
                  </select>
                  <select class="schedule-end-minute" required onchange="updateWorkTimeDisplay()">
                    <option value="">ë¶„</option>
                  </select>
                </div>
              </div>
              <button type="button" class="btn btn-danger btn-sm" onclick="removeSchedule(0)" style="display: none; height: 42px; margin-bottom: 0;">ì‚­ì œ</button>
            </div>
          </div>
        </div>
        
        <button type="button" class="btn btn-secondary btn-sm" onclick="addSchedule()" style="margin-top: 8px;">
          â• ì‹œê°„ëŒ€ ì¶”ê°€
        </button>
        <input type="hidden" id="workDays">
        <input type="hidden" id="workTime">

        <!-- íœ´ê²Œì‹œê°„ -->
        <div class="form-row" style="margin-top: var(--spacing-md);">
          <div class="form-group">
            <label>íœ´ê²Œì‹œê°„ (ì„ íƒì‚¬í•­)</label>
            <div style="display: flex; gap: 8px; align-items: center;">
              <select id="breakTimeHour" onchange="updateBreakTimeDisplay()">
                <option value="">ì‹œê°„</option>
                <option value="0">0ì‹œê°„</option>
                <option value="1">1ì‹œê°„</option>
                <option value="2">2ì‹œê°„</option>
              </select>
              <select id="breakTimeMinute" onchange="updateBreakTimeDisplay()">
                <option value="">ë¶„</option>
                <option value="0">0ë¶„</option>
                <option value="15">15ë¶„</option>
                <option value="30">30ë¶„</option>
                <option value="45">45ë¶„</option>
              </select>
            </div>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label>íœ´ê²Œì‹œê°„ ì‹œì‘ (ì„ íƒì‚¬í•­)</label>
            <div style="display: flex; gap: 8px;">
              <select id="breakStartHour" onchange="updateBreakTimeDisplay()">
                <option value="">ì‹œ</option>
              </select>
              <select id="breakStartMinute" onchange="updateBreakTimeDisplay()">
                <option value="">ë¶„</option>
              </select>
            </div>
          </div>
          <div class="form-group">
            <label>íœ´ê²Œì‹œê°„ ì¢…ë£Œ (ì„ íƒì‚¬í•­)</label>
            <div style="display: flex; gap: 8px;">
              <select id="breakEndHour" onchange="updateBreakTimeDisplay()">
                <option value="">ì‹œ</option>
              </select>
              <select id="breakEndMinute" onchange="updateBreakTimeDisplay()">
                <option value="">ë¶„</option>
              </select>
            </div>
          </div>
        </div>
        <input type="hidden" id="breakTime">
        <p class="help-text" id="breakTimePreview" style="margin-top: 8px;"></p>
      </div>

      <!-- 4. ê¸‰ì—¬ ì¡°ê±´ -->
      <div class="form-section">
        <h3>4. ê¸‰ì—¬ ì¡°ê±´</h3>
        <div class="form-row">
          <div class="form-group">
            <label for="wageType">ê¸‰ì—¬ í˜•íƒœ *</label>
            <select id="wageType" required>
              <option value="">ì„ íƒí•˜ì„¸ìš”</option>
              <option value="ì‹œê¸‰">ì‹œê¸‰</option>
              <option value="ì›”ê¸‰">ì›”ê¸‰</option>
              <option value="ì—°ë´‰">ì—°ë´‰</option>
            </select>
          </div>
          <div class="form-group">
            <label for="wageAmount">ê¸‰ì—¬ì•¡ *</label>
            <input type="number" id="wageAmount" placeholder="ê¸ˆì•¡ ì…ë ¥" required>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label for="paymentDay">ê¸‰ì—¬ ì§€ê¸‰ì¼ *</label>
            <select id="paymentDay" required>
              <option value="">ì„ íƒí•˜ì„¸ìš”</option>
              <option value="ë§¤ì›” 10ì¼">ë§¤ì›” 10ì¼</option>
              <option value="ë§¤ì›” 25ì¼">ë§¤ì›” 25ì¼</option>
              <option value="ë§¤ì›” ë§ì¼">ë§¤ì›” ë§ì¼</option>
            </select>
          </div>
          <div class="form-group">
            <label for="paymentMethod">ê¸‰ì—¬ ì§€ê¸‰ ë°©ë²• *</label>
            <select id="paymentMethod" required>
              <option value="">ì„ íƒí•˜ì„¸ìš”</option>
              <option value="ê³„ì¢Œì´ì²´">ê³„ì¢Œì´ì²´</option>
              <option value="í˜„ê¸ˆ">í˜„ê¸ˆ</option>
            </select>
          </div>
        </div>
      </div>

      <!-- 5. ê³„ì•½ì„œ ë³¸ë¬¸ -->
      <div class="form-section">
        <h3>5. ê³„ì•½ì„œ ë³¸ë¬¸ (ì„ íƒì‚¬í•­)</h3>
        <div class="form-group">
          <label for="contractContent">ê³„ì•½ì„œ ì¶”ê°€ ë‚´ìš©</label>
          <textarea id="contractContent" placeholder="ê¸°ë³¸ í…œí”Œë¦¿ì´ ìë™ìœ¼ë¡œ ì œê³µë©ë‹ˆë‹¤. í•„ìš”ì‹œ ìˆ˜ì •í•˜ì„¸ìš”." style="min-height: 500px; height: auto;"></textarea>
          <p class="help-text">íŠ¹ì•½ì‚¬í•­ì´ë‚˜ ì¶”ê°€ ë‚´ìš©ì´ ìˆìœ¼ë©´ ì…ë ¥í•˜ì„¸ìš”</p>
        </div>
      </div>

      <!-- ì•¡ì…˜ ë²„íŠ¼ -->
      <div class="action-buttons">
        <button class="btn btn-secondary" onclick="window.location.href='admin.html'">â† ê´€ë¦¬ì í™ˆ</button>
        <button class="btn btn-secondary" onclick="showSaveContractModal()">ğŸ“ ê³„ì•½ì„œ ì €ì¥</button>
        <button class="btn btn-secondary" onclick="saveDraft()">ğŸ“¥ ì„ì‹œ ì €ì¥</button>
        <button class="btn btn-primary" onclick="switchTab('preview')">ë¯¸ë¦¬ë³´ê¸° â†’</button>
      </div>
    </div>

    <!-- ë¯¸ë¦¬ë³´ê¸° íƒ­ -->
    <div id="previewTab" class="tab-content">
      <div class="preview-section">
        <div class="preview-content" id="previewContent">
          <div class="preview-title">ê·¼ ë¡œ ê³„ ì•½ ì„œ</div>
          
          <p><strong><span id="previewCompanyName">(ì£¼)ABCë””ì €íŠ¸ì„¼í„°</span></strong> (ì´í•˜ "ì‚¬ìš©ì"ë¼ í•¨)ì™€ <strong id="previewName">_______</strong> (ì´í•˜ "ê·¼ë¡œì"ë¼ í•¨)ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ê·¼ë¡œê³„ì•½ì„ ì²´ê²°í•œë‹¤.</p>

          <table class="preview-table">
            <tr>
              <th>ê·¼ë¡œì ì •ë³´</th>
              <td>
                <div>ì„±ëª…: <span id="previewEmployeeName">_______</span></div>
                <div>ìƒë…„ì›”ì¼: <span id="previewBirth">_______</span></div>
                <div>ì£¼ì†Œ: <span id="previewAddress">_______</span></div>
                <div>ì—°ë½ì²˜: <span id="previewPhone">_______</span></div>
              </td>
            </tr>
            <tr>
              <th>ê³„ì•½ ê¸°ê°„</th>
              <td>
                <span id="previewStartDate">_______</span> ~ <span id="previewEndDate">ê¸°ê°„ì˜ ì •í•¨ì´ ì—†ìŒ</span>
              </td>
            </tr>
            <tr>
              <th>ê·¼ë¬´ ì¥ì†Œ</th>
              <td>ë§›ë‚¨ì‚´ë¡± <span id="previewStore">_______</span></td>
            </tr>
            <tr>
              <th>ì—…ë¬´ ë‚´ìš©</th>
              <td><span id="previewPosition">_______</span></td>
            </tr>
            <tr>
              <th>ê·¼ë¬´ ì¼ì‹œ</th>
              <td>
                <div>ê·¼ë¬´ì¼: <span id="previewWorkDays">_______</span></div>
                <div>ê·¼ë¬´ì‹œê°„: <span id="previewWorkTime">_______</span></div>
                <div>íœ´ê²Œì‹œê°„: <span id="previewBreakTime">_______</span></div>
              </td>
            </tr>
            <tr>
              <th>ê¸‰ì—¬ ì¡°ê±´</th>
              <td>
                <div><span id="previewWageType">_______</span>: <span id="previewWageAmount">_______</span>ì›</div>
                <div>ì§€ê¸‰ì¼: <span id="previewPaymentDay">_______</span></div>
                <div>ì§€ê¸‰ë°©ë²•: <span id="previewPaymentMethod">_______</span></div>
              </td>
            </tr>
          </table>

          <div id="previewContractBody"></div>

          <p style="text-align: center; margin-top: 40px;">
            <strong id="previewContractDate">20__ë…„ __ì›” __ì¼</strong>
          </p>

          <div style="margin-top: 40px; display: flex; justify-content: space-around;">
            <div style="text-align: center;">
              <p>ì‚¬ìš©ì <span id="previewCompanyName2">(ì£¼)ABCë””ì €íŠ¸ì„¼í„°</span></p>
              <p style="margin-top: 20px;">ëŒ€í‘œì´ì‚¬: <span id="previewCEO">_______</span> (ì¸)</p>
            </div>
            <div style="text-align: center;">
              <p>ê·¼ë¡œì</p>
              <p style="margin-top: 20px;"><span id="previewEmployeeName2">_______</span> (ì¸)</p>
            </div>
          </div>
        </div>
      </div>

      <!-- ì•¡ì…˜ ë²„íŠ¼ -->
      <div class="action-buttons">
        <button class="btn btn-secondary" onclick="switchTab('form')">â† ìˆ˜ì •í•˜ê¸°</button>
        <button class="btn btn-primary" onclick="generateContract()">ê³„ì•½ì„œ ìƒì„±</button>
      </div>

      <!-- ì„œëª… ë§í¬ í‘œì‹œ ì˜ì—­ -->
      <div id="signLinkSection" style="display: none; margin-top: var(--spacing-lg);">
        <div class="form-section">
          <h3 style="color: var(--success-color);">âœ… ê³„ì•½ì„œ ìƒì„± ì™„ë£Œ!</h3>
          <p style="margin-bottom: var(--spacing-md);">ê³„ì•½ì„œê°€ ì„±ê³µì ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤. ì•„ë˜ ë§í¬ë¥¼ ì§ì›ì—ê²Œ ì „ì†¡í•˜ì—¬ ì„œëª…ì„ ìš”ì²­í•˜ì„¸ìš”.</p>
          
          <div style="margin-bottom: var(--spacing-md);">
            <label style="font-weight: 600; margin-bottom: 8px; display: block;">ğŸ“‹ ê³„ì•½ì„œ ID</label>
            <div id="contractIdDisplay" style="padding: var(--spacing-md); background: var(--bg-light); border-radius: var(--border-radius); font-family: monospace;"></div>
          </div>

          <div style="margin-bottom: var(--spacing-md);">
            <label style="font-weight: 600; margin-bottom: 8px; display: block;">ğŸ”— ì„œëª… ë§í¬</label>
            <div style="display: flex; gap: 8px;">
              <input type="text" id="signLinkInput" readonly style="flex: 1; padding: var(--spacing-md); border: 2px solid var(--success-color); border-radius: var(--border-radius);">
              <button class="btn btn-primary" onclick="copySignLink()">ğŸ“‹ ë³µì‚¬</button>
            </div>
          </div>

          <div class="action-buttons">
            <button class="btn btn-secondary" onclick="window.location.href='admin.html'">â† ê´€ë¦¬ì í˜ì´ì§€ë¡œ</button>
            <button class="btn btn-primary" onclick="window.location.href='contract.html'">+ ìƒˆ ê³„ì•½ì„œ ì‘ì„±</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- íšŒì‚¬ ì¶”ê°€ ëª¨ë‹¬ -->
  <div id="addCompanyModal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="companyModalTitle">ğŸ¢ íšŒì‚¬ ì¶”ê°€</h3>
        <button class="modal-close" onclick="closeAddCompanyModal()">âœ•</button>
      </div>
      <div class="modal-body">
        <input type="hidden" id="editCompanyId" value="">
        <div class="form-group" style="margin-bottom: var(--spacing-md);">
          <label for="newCompanyName">íšŒì‚¬ëª… *</label>
          <input type="text" id="newCompanyName" placeholder="ì˜ˆ: (ì£¼)ABCë””ì €íŠ¸ì„¼í„°">
        </div>
        <div class="form-group" style="margin-bottom: var(--spacing-md);">
          <label for="newCompanyCEO">ëŒ€í‘œìëª… *</label>
          <input type="text" id="newCompanyCEO" placeholder="ì˜ˆ: í™ê¸¸ë™">
        </div>
        <div class="form-group" style="margin-bottom: var(--spacing-md);">
          <label for="newCompanyBusinessNumber">ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸ *</label>
          <input type="text" id="newCompanyBusinessNumber" placeholder="ì˜ˆ: 123-45-67890">
        </div>
        <div class="form-group" style="margin-bottom: var(--spacing-md);">
          <label for="newCompanyPhone">íšŒì‚¬ ì—°ë½ì²˜ *</label>
          <input type="tel" id="newCompanyPhone" placeholder="ì˜ˆ: 032-123-4567">
        </div>
        <div class="form-group" style="margin-bottom: var(--spacing-md);">
          <label for="newCompanyAddress">ì‚¬ì—…ì¥ ì£¼ì†Œ *</label>
          <input type="text" id="newCompanyAddress" placeholder="ì˜ˆ: ê²½ê¸°ë„ ë¶€ì²œì‹œ ì›ë¯¸êµ¬ 74">
        </div>
      </div>
      <div class="modal-footer">
        <div id="deleteCompanyBtnContainer" style="margin-right: auto; display: none;">
          <button class="btn btn-danger" onclick="deleteCompany()">ğŸ—‘ï¸ ì‚­ì œ</button>
        </div>
        <button class="btn btn-secondary" onclick="closeAddCompanyModal()">ì·¨ì†Œ</button>
        <button class="btn btn-primary" onclick="saveCompany()">ì €ì¥</button>
      </div>
    </div>
  </div>

  <!-- ê³„ì•½ì„œ ì €ì¥ ëª¨ë‹¬ -->
  <div id="saveContractModal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h3>ğŸ’¾ ê³„ì•½ì„œ ì €ì¥</h3>
        <button class="modal-close" onclick="closeSaveContractModal()">âœ•</button>
      </div>
      <div class="modal-body">
        <p class="help-text" style="margin-bottom: var(--spacing-md);">
          ì €ì¥í•  ê³„ì•½ì„œì˜ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”.
        </p>
        <div class="form-group">
          <label for="contractSaveName">ê³„ì•½ì„œ ì´ë¦„ *</label>
          <input type="text" id="contractSaveName" placeholder="ì˜ˆ: í™ê¸¸ë™_ë°”ë¦¬ìŠ¤íƒ€_2024ë…„">
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="closeSaveContractModal()">ì·¨ì†Œ</button>
        <button class="btn btn-primary" onclick="saveContract()">ì €ì¥</button>
      </div>
    </div>
  </div>

  <!-- ì €ì¥ëœ ê³„ì•½ì„œ ë¶ˆëŸ¬ì˜¤ê¸° ëª¨ë‹¬ -->
  <div id="loadContractModal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h3>ğŸ“‚ ì €ì¥ëœ ê³„ì•½ì„œ ë¶ˆëŸ¬ì˜¤ê¸°</h3>
        <button class="modal-close" onclick="closeLoadContractModal()">âœ•</button>
      </div>
      <div class="modal-body">
        <p class="help-text" style="margin-bottom: var(--spacing-md);">
          ë¶ˆëŸ¬ì˜¬ ê³„ì•½ì„œë¥¼ ì„ íƒí•˜ì„¸ìš”. í˜„ì¬ ì‘ì„± ì¤‘ì¸ ë‚´ìš©ì€ ë®ì–´ì”Œì›Œì§‘ë‹ˆë‹¤.
        </p>
        <div id="savedContractsList">
          <p style="text-align: center; padding: var(--spacing-xl); color: var(--text-secondary);">
            ì €ì¥ëœ ê³„ì•½ì„œê°€ ì—†ìŠµë‹ˆë‹¤.
          </p>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="closeLoadContractModal()">ë‹«ê¸°</button>
      </div>
    </div>
  </div>

  <script src="js/config.js"></script>
  <script src="js/utils.js"></script>
  <script src="js/auth.js"></script>
  <script src="js/api.js"></script>
  <script src="js/contract.js"></script>
</body>
</html>
